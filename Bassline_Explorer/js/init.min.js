var bpm=120;var masterstepcounter=0;var valx=127;var valy=127;var lnshiftchannel=0;var thresholds=new Array();thresholds[0]=127;thresholds[1]=127;thresholds[2]=127;thresholds[3]=127;var stepvals=new Array();stepvals[0]=patterns[0][0][0][0];stepvals[1]=patterns[0][0][1][0];stepvals[2]=patterns[0][0][2][0];stepvals[3]=patterns[0][0][3][0];stepvals[4]=patterns[0][0][4][0];stepvals[5]=patterns[0][0][5][0];var channelstepcount=new Array();channelstepcount[0]=[16,0,0];channelstepcount[1]=[16,0,0];channelstepcount[2]=[16,0,0];channelstepcount[3]=[16,0,0];var randomtablecounter=0;var randomtablerandomoffset=Math.round(Math.random()*31);var slide=false;var transpose=36;var clock=new Clock(bpm,0.5);$(document).ready(function(){setupcontrols();setupmidi();clock.init();clock.play();clock.bind("tick",function(a){masterstepcounter=a;playStep()});clock.bind("note-off",function(a){getStepVals()})});