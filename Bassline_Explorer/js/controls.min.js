function setupcontrols(){var b=["#ff0000","#ff00ff","#00ff00","#0000ff","#666"];$scalesmenu=$("#selectscale");for(var a=0;a<mpscales.length;a++){$scalesmenu.append($("<option>",{value:a,text:mpscales[a][0]}))}$scalesmenu.change(function(){scale=mpscales[parseInt($scalesmenu.val())][1]});$("button#playbutton").click(function(){if(clock.isPlaying==false){$(this).text("Stop sequencer");clock.play()}else{$(this).text("Start sequencer");clock.stop()}});$("#knob_x").knob({width:100,height:100,fgColor:b[4],inputColor:b[4],lineCap:"round",change:function(c){valx=parseInt(c)}});$("#knob_y").knob({width:100,height:100,fgColor:b[4],inputColor:b[4],lineCap:"round",change:function(c){valy=parseInt(c)}});$("#length").knob({width:100,height:100,fgColor:b[lnshiftchannel],inputColor:b[lnshiftchannel],lineCap:"round",change:function(c){channelstepcount[lnshiftchannel][0]=parseInt(c)}});$("#shift").knob({width:100,height:100,fgColor:b[lnshiftchannel],inputColor:b[lnshiftchannel],lineCap:"round",change:function(c){channelstepcount[lnshiftchannel][1]=parseInt(c)}});$("input[type='radio']").click(function(){var c=$("input[name='lnshft-function']:checked").val();if(c){lnshiftchannel=parseInt(c);$("#length").val(channelstepcount[lnshiftchannel][0]).trigger("change");$("#length").trigger("configure",{fgColor:b[lnshiftchannel],inputColor:b[lnshiftchannel]});$("#shift").val(channelstepcount[lnshiftchannel][1]).trigger("change");$("#shift").trigger("configure",{fgColor:b[lnshiftchannel],inputColor:b[lnshiftchannel]})}});$("#knob_threshold_note").knob({width:100,height:100,lineCap:"round",fgColor:b[0],inputColor:b[0],change:function(c){intval=parseInt(c);thresholds[0]=intval}});$("#knob_threshold_octave").knob({width:100,height:100,lineCap:"round",fgColor:b[1],inputColor:b[1],change:function(c){intval=parseInt(c);thresholds[1]=intval}});$("#knob_threshold_accent").knob({width:100,height:100,fgColor:b[2],inputColor:b[2],lineCap:"round",change:function(c){thresholds[2]=parseInt(c)}});$("#knob_threshold_slide").knob({width:100,height:100,fgColor:b[3],inputColor:b[3],lineCap:"round",change:function(c){thresholds[3]=parseInt(c)}})};