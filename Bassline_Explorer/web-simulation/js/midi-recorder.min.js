function Recorder(){this.isrecording=!1,this.ticks=0,this.midixmlheader='<?xml version="1.0" encoding="ISO-8859-1"?><!DOCTYPE MIDIFile SYSTEM "http://www.musicxml.org/dtds/midixml.dtd"><MIDIFile><Format>1</Format><TrackCount>2</TrackCount><TicksPerBeat>8</TicksPerBeat><TimestampType>Absolute</TimestampType>',this.midixmltrk0='<Format>1</Format><TrackCount>2</TrackCount><TicksPerBeat>120</TicksPerBeat><TimestampType>Absolute</TimestampType><Track Number="0"><Event><Absolute>0</Absolute><TimeSignature Numerator="4" LogDenominator="2" MIDIClocksPerMetronomeClick="24" ThirtySecondsPer24Clocks="8"/></Event><Event><Absolute>0</Absolute><KeySignature Fifths="0" Mode="0"/></Event><Event><Absolute>0</Absolute><SetTempo Value="371520"/></Event><Event><Absolute>0</Absolute><EndOfTrack/></Event></Track>',this.midixmltrk1=null,this.midixmlclose="</Track></MIDIFile>"}MicroEvent.mixin(Recorder),Recorder.prototype.startrecording=function(){this.midixmltrk1='<Track Number="1">',this.isrecording||(this.isrecording=!0)},Recorder.prototype.recordstep=function(t,e,i,r){if(this.isrecording){var o="<Event>";o+="<Absolute>"+ticks+"</Absolute>",o+="<",o+=t+" ",o+='Channel="'+e+'" ',o+='Note="'+i+'" ',o+='Velocity="'+r+'" ',o+="/>",o+="</Event>";var s=this;s.trigger("midievent",o),this.midixmltrk1+=o,this.ticks++}},Recorder.prototype.stoprecording=function(){this.isrecording&&(this.isrecording=!1,this.midixmltrk1+="<Event><Absolute>"+ticks+"</Absolute><EndOfTrack/></Event>",this.midixmltrk1+=this.midixmlclose,this.submitxml())},Recorder.prototype.submitxml=function(){console.log(this.midixmltrk1)};