function setupplaybackcontrols(){$("#selectmidichannel").change(function(){midi_channel=parseInt($(this).val())});for(var n=$("#selectscale"),e=0;e<mpscales.length;e++){var t='<option value="'+e+'"';e===scaleindex&&(t+=" selected"),t+=">"+mpscales[e][0]+"</option>",n.append(t)}n.change(function(){var e=parseInt(n.val());scale=mpscales[e][1],scaleindex=e}),$("#selecttranspose").change(function(){transpose=12+parseInt($(this).val())});for(var a=$("#selectautoreset"),e=0;e<resetperiodtable.length;e++){var t='<option value="'+e+'"';e===autoresetindex&&(t+=" selected"),t+=">"+resetperiodtable[e][0]+"</option>",a.append(t)}a.change(function(){var n=parseInt($(this).val());autoresetindex=n,autoreset=resetperiodtable[autoresetindex][1],clock.setResetPeriod(autoreset)}),$("button#playbutton").click(function(){0==clock.isPlaying?($(this).text("Stop sequencer"),clock.play()):($(this).text("Start sequencer"),clock.stop())});var o=$("#slider_tempo");o.val(bpm),o.on("change",function(){bpm=parseInt($(this).val()),clock.setTempo(bpm)})}function setupcontrols(){var n=75,e=["#ff0000","#ff00ff","#00ff00","#0000ff","#666"],t=$("#knob_x");t.knob({width:n,height:n,fgColor:e[4],inputColor:e[4],lineCap:"round",change:function(n){valx=parseInt(n)}}),t.val(valx).trigger("change");var a=$("#knob_y");a.knob({width:n,height:n,fgColor:e[4],inputColor:e[4],lineCap:"round",value:valy,change:function(n){valy=parseInt(n)}}),a.val(valy).trigger("change");var o=$("#knob_threshold_note");o.knob({width:n,height:n,lineCap:"round",fgColor:e[0],inputColor:e[0],change:function(n){intval=parseInt(n),thresholds[0]=intval}}),o.val(thresholds[0]).trigger("change");var l=$("#knob_threshold_octave");l.knob({width:n,height:n,lineCap:"round",fgColor:e[1],inputColor:e[1],change:function(n){intval=parseInt(n),thresholds[1]=intval}}),l.val(thresholds[1]).trigger("change");var h=$("#knob_threshold_accent");h.knob({width:n,height:n,fgColor:e[2],inputColor:e[2],lineCap:"round",change:function(n){thresholds[2]=parseInt(n)}}),h.val(thresholds[2]).trigger("change");var r=$("#knob_threshold_slide");r.knob({width:n,height:n,fgColor:e[3],inputColor:e[3],lineCap:"round",change:function(n){thresholds[3]=parseInt(n)}}),r.val(thresholds[3]).trigger("change");var i=$("#knob_length");i.knob({width:n,height:n,fgColor:e[lnshiftchannel],inputColor:e[lnshiftchannel],lineCap:"round",change:function(n){channelstepcount[lnshiftchannel][0]=parseInt(n)}}),i.val(channelstepcount[lnshiftchannel][0]).trigger("change");var c=$("#knob_shift");c.knob({width:n,height:n,fgColor:e[lnshiftchannel],inputColor:e[lnshiftchannel],lineCap:"round",change:function(n){channelstepcount[lnshiftchannel][1]=parseInt(n)}}),c.val(channelstepcount[lnshiftchannel][1]).trigger("change"),$("input[type='radio']").click(function(){var n=$("input[name='lnshft-function']:checked").val();n&&(lnshiftchannel=parseInt(n),i.val(channelstepcount[lnshiftchannel][0]).trigger("change"),i.trigger("configure",{fgColor:e[lnshiftchannel],inputColor:e[lnshiftchannel]}),c.val(channelstepcount[lnshiftchannel][1]).trigger("change"),c.trigger("configure",{fgColor:e[lnshiftchannel],inputColor:e[lnshiftchannel]}))})}