function setupplaybackcontrols(){$("#selectmidichannel").change(function(){midi_channel=parseInt($(this).val())}),$lowvelocityslider=$("#slidermidilowvelocity"),$lowvelocityslider.val(midi_lowvelocity),$lowvelocityslider.change(function(){midi_lowvelocity=parseInt($(this).val())}),$highvelocityslider=$("#slidermidihighvelocity"),$highvelocityslider.val(midi_highvelocity),$highvelocityslider.change(function(){midi_highvelocity=parseInt($(this).val())});for(var n=$("#selectscale"),e=0;e<mpscales.length;e++){var t='<option value="'+e+'"';e===scaleindex&&(t+=" selected"),t+=">"+mpscales[e][0]+"</option>",n.append(t)}n.change(function(){var e=parseInt(n.val());scale=mpscales[e][1],scaleindex=e}),$("#selecttranspose").change(function(){transpose=12+parseInt($(this).val())});for(var o=$("#selectautoreset"),e=0;e<resetperiodtable.length;e++){var t='<option value="'+e+'"';e===autoresetindex&&(t+=" selected"),t+=">"+resetperiodtable[e][0]+"</option>",o.append(t)}o.change(function(){var n=parseInt($(this).val());autoresetindex=n,autoreset=resetperiodtable[autoresetindex][1],clock.setautoreset(autoreset)}),$("button#playbutton").click(function(){0==clock.isPlaying?($(this).text("Stop sequencer"),clock.stop()):($(this).text("Start sequencer"),clock.start())});var l=$("#slider_tempo");l.val(bpm),l.on("change",function(){bpm=parseInt($(this).val()),clock.settempo(bpm)});var i=$("#recordbutton");i.data("recordstatus","0"),i.mousedown(function(){"0"===i.data("recordstatus")?(i.html("Recording Armed"),clock.bind("bar",function(){i.html("Recording..."),recorder=new Recorder,recorder.startrecording(),clock.unbind("bar")}),i.data("recordstatus","1")):(i.html("Recording Disarmed"),clock.bind("bar",function(){i.html("Get MIDI File"),clock.unbind("bar"),recorder.stoprecording();var n=recorder.getmidixml();console.log(n),recorder=null}),i.data("recordstatus","0"))})}function setupcontrols(){var n=75,e=["#ff0000","#ff00ff","#00ff00","#0000ff","#666"],t=$("#knob_x");t.knob({width:n,height:n,fgColor:e[4],inputColor:e[4],lineCap:"round",change:function(n){valx=parseInt(n)}}),t.val(valx).trigger("change");var o=$("#knob_y");o.knob({width:n,height:n,fgColor:e[4],inputColor:e[4],lineCap:"round",value:valy,change:function(n){valy=parseInt(n)}}),o.val(valy).trigger("change");var l=$("#knob_threshold_note");l.knob({width:n,height:n,lineCap:"round",fgColor:e[0],inputColor:e[0],change:function(n){intval=parseInt(n),thresholds[0]=intval}}),l.val(thresholds[0]).trigger("change");var i=$("#knob_threshold_octave");i.knob({width:n,height:n,lineCap:"round",fgColor:e[1],inputColor:e[1],change:function(n){intval=parseInt(n),thresholds[1]=intval}}),i.val(thresholds[1]).trigger("change");var r=$("#knob_threshold_accent");r.knob({width:n,height:n,fgColor:e[2],inputColor:e[2],lineCap:"round",change:function(n){thresholds[2]=parseInt(n)}}),r.val(thresholds[2]).trigger("change");var a=$("#knob_threshold_slide");a.knob({width:n,height:n,fgColor:e[3],inputColor:e[3],lineCap:"round",change:function(n){thresholds[3]=parseInt(n)}}),a.val(thresholds[3]).trigger("change");var c=$("#knob_length");c.knob({width:n,height:n,fgColor:e[lnshiftchannel],inputColor:e[lnshiftchannel],lineCap:"round",change:function(n){channelstepcount[lnshiftchannel][0]=parseInt(n)}}),c.val(channelstepcount[lnshiftchannel][0]).trigger("change");var h=$("#knob_shift");h.knob({width:n,height:n,fgColor:e[lnshiftchannel],inputColor:e[lnshiftchannel],lineCap:"round",change:function(n){channelstepcount[lnshiftchannel][1]=parseInt(n)}}),h.val(channelstepcount[lnshiftchannel][1]).trigger("change"),$("input[type='radio']").click(function(){var n=$("input[name='lnshft-function']:checked").val();n&&(lnshiftchannel=parseInt(n),c.val(channelstepcount[lnshiftchannel][0]).trigger("change"),c.trigger("configure",{fgColor:e[lnshiftchannel],inputColor:e[lnshiftchannel]}),h.val(channelstepcount[lnshiftchannel][1]).trigger("change"),h.trigger("configure",{fgColor:e[lnshiftchannel],inputColor:e[lnshiftchannel]}))})}