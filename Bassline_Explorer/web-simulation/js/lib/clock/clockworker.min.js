var timerID=null;var interval=100;self.onmessage=function(a){if(a.data=="start"){console.log("starting");timerID=setInterval(function(){postMessage("tick")},interval)}else{if(a.data.interval){console.log("setting interval");interval=a.data.interval;console.log("interval="+interval);if(timerID){clearInterval(timerID);timerID=setInterval(function(){postMessage("tick")},interval)}}else{if(a.data=="stop"){console.log("stopping");clearInterval(timerID);timerID=null}}}};