function NoteClock(a){this.bpm=a;this.autoreset=null;this.clock=new Clock24PPQN(this.bpm);this.isplaying=false}MicroEvent.mixin(NoteClock);NoteClock.prototype.settempo=function(a){this.clock.setTempo(a)};NoteClock.prototype.setautoreset=function(a){if(a!==0){this.autoreset=96*a}else{this.autoreset=null}};NoteClock.prototype.start=function(){var b=this;var a=0;this.clock.init();this.clock.play();this.isplaying=true;this.clock.bind("tick",function(c){b.trigger("tick","tick");if(a%3==0){b.trigger("32nd","32nd")}if(a%6==0){b.trigger("16th","16th")}if(a%12==0){b.trigger("8th","8th")}if(a%24==0){b.trigger("quarter","quarter")}if(a%48==0){b.trigger("half","half")}if(a%96==0){b.trigger("bar","bar")}a++;if(a%96==0){b.trigger("beforebar","bar")}if(b.autoreset){if(a%(b.autoreset)==0){b.trigger("reset","reset");a=0}}})};NoteClock.prototype.stop=function(){this.clock.stop();this.isplaying=false};