function setupmidi(){Jazz=document.getElementById("Jazz1"),Jazz&&Jazz.isJazz||(Jazz=document.getElementById("Jazz2"));try{var i=Jazz.MidiOutList(),e=$("#selectmidi");$.each(i,function(i,n){e.append($("<option>",{value:n,text:n}))}),e.change(function(){Jazz.MidiOutOpen(e.val())}),$("button#testmidibutton").mousedown(function(){Jazz.MidiOut(midi_channel+144,24,127)}).mouseup(function(){Jazz.MidiOut(midi_channel+128,24,0)}),Jazz.MidiOut(68)}catch(n){}}function midi_noteon(i,e,n){Jazz.MidiOut(midi_channel+144,e,n),recorder&&recorder.recordevent("NoteOn",midi_channel,e,n)}function midi_noteoff(i,e,n){Jazz.MidiOut(midi_channel+128,e,n),recorder&&recorder.recordevent("NoteOn",midi_channel,e,0)}var Jazz,midi_channel=0,midi_lowvelocity=80,midi_highvelocity=127,transpose=24,enablerecord=!1,recording=[],scaleindex=2,scale=mpscales[scaleindex][1],midi_previousnotes=[0];