var Jazz;var midi_channel=0;var midi_lowvelocity=63;var midi_highvelocity=127;var transpose=24;var enablerecord=false;var recording=[];var scaleindex=2;var scale=mpscales[scaleindex][1];var midi_previousnotes=[0];function setupmidi(){Jazz=document.getElementById("Jazz1");if(!Jazz||!Jazz.isJazz){Jazz=document.getElementById("Jazz2")}try{var a=Jazz.MidiOutList();var b=$("#selectmidi");$.each(a,function(d,e){b.append($("<option>",{value:e,text:e}))});b.change(function(){Jazz.MidiOutOpen(b.val())});$("button#testmidibutton").mousedown(function(){Jazz.MidiOut(midi_channel+144,24,127)}).mouseup(function(){Jazz.MidiOut(midi_channel+128,24,0)});Jazz.MidiOut(68)}catch(c){}}function midi_noteon(c,a,b){Jazz.MidiOut(midi_channel+144,a,b);if(recorder){recorder.recordnote("NoteOn",midi_channel,a,b)}}function midi_noteoff(c,a,b){Jazz.MidiOut(midi_channel+128,a,b);if(recorder){recorder.recordnote("NoteOff",midi_channel,a,0)}};